/*! dynamics-web-api-callbacks v1.1.2 (c) 2017 Aleksandr Rogov */
!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.DynamicsWebApi=t():e.DynamicsWebApi=t()}(this,function(){return function(e){function t(a){if(i[a])return i[a].exports;var n=i[a]={i:a,l:!1,exports:{}};return e[a].call(n.exports,n,n.exports,t),n.l=!0,n.exports}var i={};return t.m=e,t.c=i,t.i=function(e){return e},t.d=function(e,i,a){t.o(e,i)||Object.defineProperty(e,i,{configurable:!1,enumerable:!0,get:a})},t.n=function(e){var i=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(i,"a",i),i},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=1)}([function(e,t){var i={Types:{ResponseBase:function(){this.oDataContext=""},Response:function(){i.Types.ResponseBase.call(this),this.value={}},ReferenceResponse:function(){i.Types.ResponseBase.call(this),this.id="",this.collection=""},MultipleResponse:function(){i.Types.ResponseBase.call(this),this.oDataNextLink="",this.oDataCount=0,this.value=[]},FetchXmlResponse:function(){i.Types.ResponseBase.call(this),this.value=[],this.PagingInfo={cookie:"",page:0,nextPage:1}}},Prefer:{ReturnRepresentation:"return=representation",Annotations:{AssociatedNavigationProperty:"Microsoft.Dynamics.CRM.associatednavigationproperty",LookupLogicalName:"Microsoft.Dynamics.CRM.lookuplogicalname",All:"*",FormattedValue:"OData.Community.Display.V1.FormattedValue",FetchXmlPagingCookie:"Microsoft.Dynamics.CRM.fetchxmlpagingcookie"}}};e.exports=i},function(e,t,i){function a(e){var t=function(){var e=Xrm.Page.context.getClientUrl();return e.match(/\/$/)&&(e=e.substring(0,e.length-1)),e},i=null,r="8.0",s=function(){return t()+"/api/data/v"+r+"/"},c=s(),o=function(e,t){return e.endsWith("@odata.bind")&&"string"==typeof t&&!t.startsWith(c)&&(t=c+t),t},l=function(e,t){return"string"==typeof t&&/^\d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}Z$/.exec(t)?new Date(t):t},u=function(e,t,i,a){if(void 0===e||null===e||""==e)throw new Error(a?t+" requires the "+i+" parameter with type: "+a:t+" requires the "+i+" parameter.")},p=function(e,t,i){if("string"!=typeof e)throw new Error(t+" requires the "+i+" parameter is a String.")},d=function(e,t,i){if(e.constructor!==Array)throw new Error(t+" requires the "+i+" parameter is an Array.")},y=function(e,t,i){if("number"!=typeof e)throw new Error(t+" requires the "+i+" parameter is a Number.")},m=function(e,t,i){if("boolean"!=typeof e)throw new Error(t+" requires the "+i+" parameter is a Boolean.")},f=function(e,t,i){try{return/[0-9A-F]{8}[-]?([0-9A-F]{4}[-]?){3}[0-9A-F]{12}/i.exec(e)[0]}catch(e){throw new Error(t+" requires the "+i+" parameter is a GUID String.")}},b=function(e,t,i){if("function"!=typeof e)throw new Error(t+" requires the "+i+" parameter is a Function.")},h=function(e){var t={};if(!e)return t;for(var i=e.split("\r\n"),a=0,n=i.length;a<n;a++){var r=i[a],s=r.indexOf(": ");s>0&&(t[r.substring(0,s)]=r.substring(s+2))}return t},A=function(e,t,a,n,r,s){var u=new XMLHttpRequest;if(u.open(e,encodeURI(c+t),!0),u.setRequestHeader("OData-MaxVersion","4.0"),u.setRequestHeader("OData-Version","4.0"),u.setRequestHeader("Accept","application/json"),u.setRequestHeader("Content-Type","application/json; charset=utf-8"),i&&(!s||s&&!s.MSCRMCallerID)&&u.setRequestHeader("MSCRMCallerID",i),null!=s)for(var p=Object.keys(s),d=0;d<p.length;d++)u.setRequestHeader(p[d],s[p[d]]);u.onreadystatechange=function(){if(4===this.readyState)switch(u.onreadystatechange=null,this.status){case 200:case 201:case 204:case 304:var e=null;this.responseText&&(e=JSON.parse(this.responseText,l));a({data:e,headers:h(this.getAllResponseHeaders()),status:this.status});break;default:n(this)}},r?u.send(JSON.stringify(r,o)):u.send()};this.setConfig=function(e){null!=e.webApiVersion&&(p(e.webApiVersion,"DynamicsWebApi.setConfig","config.webApiVersion"),r=e.webApiVersion,c=s()),null!=e.webApiUrl&&(p(e.webApiUrl,"DynamicsWebApi.setConfig","config.webApiUrl"),c=e.webApiUrl),null!=e.impersonate&&(i=f(e.impersonate,"DynamicsWebApi.setConfig","config.impersonate"))},null!=e&&this.setConfig(e);var D=function(e){var t=/\/(\w+)\(([0-9A-F]{8}[-]?([0-9A-F]{4}[-]?){3}[0-9A-F]{12})/i.exec(e["@odata.id"]);return{id:t[2],collection:t[1],oDataContext:e["@odata.context"]}},W=function(e,t,i,a){var r={},s=[];if(a=null!=a?a:"&",e){if(e.navigationProperty&&(p(e.navigationProperty,"DynamicsWebApi."+t,"request.navigationProperty"),i+="/"+e.navigationProperty),null!=e.select&&e.select.length&&(d(e.select,"DynamicsWebApi."+t,"request.select"),"retrieve"==t&&1==e.select.length&&e.select[0].endsWith("/$ref")?i+="/"+e.select[0]:(e.select[0].startsWith("/")&&"retrieve"==t&&(null==e.navigationProperty?i+=e.select.shift():e.select.shift()),e.select.length&&s.push("$select="+e.select.join(",")))),e.filter&&(p(e.filter,"DynamicsWebApi."+t,"request.filter"),s.push("$filter="+e.filter)),e.savedQuery&&s.push("savedQuery="+f(e.savedQuery,"DynamicsWebApi."+t,"request.savedQuery")),e.userQuery&&s.push("userQuery="+f(e.userQuery,"DynamicsWebApi."+t,"request.userQuery")),e.maxPageSize&&e.maxPageSize>0&&(y(e.maxPageSize,"DynamicsWebApi."+t,"request.maxPageSize"),r.Prefer="odata.maxpagesize="+e.maxPageSize),e.count&&(m(e.count,"DynamicsWebApi."+t,"request.count"),s.push("$count="+e.count)),e.top&&e.top>0&&(y(e.top,"DynamicsWebApi."+t,"request.top"),s.push("$top="+e.top)),null!=e.orderBy&&e.orderBy.length&&(d(e.orderBy,"DynamicsWebApi."+t,"request.orderBy"),s.push("$orderBy="+e.orderBy.join(","))),e.returnRepresentation&&(m(e.returnRepresentation,"DynamicsWebApi."+t,"request.returnRepresentation"),r.Prefer=n.Prefer.ReturnRepresentation),e.includeAnnotations&&(p(e.includeAnnotations,"DynamicsWebApi."+t,"request.includeAnnotations"),r.Prefer='odata.include-annotations="'+e.includeAnnotations+'"'),null!=e.ifmatch&&null!=e.ifnonematch)throw Error("DynamicsWebApi."+t+". Either one of request.ifmatch or request.ifnonematch parameters shoud be used in a call, not both.");if(e.ifmatch&&(p(e.ifmatch,"DynamicsWebApi."+t,"request.ifmatch"),r["If-Match"]=e.ifmatch),e.ifnonematch&&(p(e.ifnonematch,"DynamicsWebApi."+t,"request.ifnonematch"),r["If-None-Match"]=e.ifnonematch),e.impersonate&&(p(e.impersonate,"DynamicsWebApi."+t,"request.impersonate"),r.MSCRMCallerID=f(e.impersonate,"DynamicsWebApi."+t,"request.impersonate")),null!=e.expand&&e.expand.length){d(e.expand,"DynamicsWebApi."+t,"request.expand");for(var c=[],o=0;o<e.expand.length;o++)if(e.expand[o].property){var l=W(e.expand[o],t+" $expand",null,";").query;l.length&&(l="("+l+")"),c.push(e.expand[o].property+l)}c.length&&s.push("$expand="+encodeURI(c.join(",")))}}return{url:i,query:s.join(a),headers:r}},g=function(e,t){e.collection?p(e.collection,"DynamicsWebApi."+t,"request.collection"):u(e.collection,"DynamicsWebApi."+t,"request.collection");var i=e.collection.toLowerCase();e.id&&(f(e.id,"DynamicsWebApi."+t,"request.id"),i+="("+e.id+")");var a=W(e,t,i);return a.query&&(a.url+="?"+a.query),{url:a.url,headers:a.headers}};this.create=function(e,t,i,a,n){u(e,"DynamicsWebApi.create","object"),p(t,"DynamicsWebApi.create","collection"),b(i,"DynamicsWebApi.create","successCallback"),b(a,"DynamicsWebApi.create","errorCallback");var r=null;null!=n&&(p(n,"DynamicsWebApi.create","prefer"),r={Prefer:n});var s=function(e){if(e.data)i(e.data);else{var t=e.headers["OData-EntityId"];i(/[0-9A-F]{8}[-]?([0-9A-F]{4}[-]?){3}[0-9A-F]{12}/i.exec(t)[0])}};A("POST",t.toLowerCase(),s,a,e,r)},this.updateRequest=function(e,t,i){u(e,"DynamicsWebApi.update","request"),u(e.entity,"DynamicsWebApi.update","request.entity"),b(t,"DynamicsWebApi.update","successCallback"),b(i,"DynamicsWebApi.update","errorCallback");var a=g(e,"update");null==e.ifmatch&&(a.headers["If-Match"]="*");var n=function(e){t(e.data?e.data:!0)},r=e.ifmatch,s=function(e){r&&412==e.status?t(!1):i(e)};A("PATCH",a.url,n,s,e.entity,a.headers)},this.update=function(e,t,i,a,n,r,s){p(e,"DynamicsWebApi.update","id"),e=f(e,"DynamicsWebApi.update","id"),u(i,"DynamicsWebApi.update","object"),p(t,"DynamicsWebApi.update","collection"),b(a,"DynamicsWebApi.update","successCallback"),b(n,"DynamicsWebApi.update","errorCallback");var c={"If-Match":"*"};null!=r&&(p(r,"DynamicsWebApi.update","prefer"),c.Prefer=r);var o="";null!=s&&(d(s,"DynamicsWebApi.update","select"),null!=s&&s.length>0&&(o="?$select="+s.join(",")));var l=function(e){e.data?a(e.data):a()};A("PATCH",t.toLowerCase()+"("+e+")"+o,l,n,i,c)},this.updateSingleProperty=function(e,t,i,a,n,r){p(e,"DynamicsWebApi.updateSingleProperty","id"),e=f(e,"DynamicsWebApi.updateSingleProperty","id"),u(i,"DynamicsWebApi.updateSingleProperty","keyValuePair"),p(t,"DynamicsWebApi.updateSingleProperty","collection"),b(a,"DynamicsWebApi.updateSingleProperty","successCallback"),b(n,"DynamicsWebApi.updateSingleProperty","errorCallback");var s=null;null!=r&&(p(r,"DynamicsWebApi.updateSingleProperty","prefer"),s={Prefer:r});var c=function(e){e.data?a(e.data):a()},o=Object.keys(i)[0],l=i[o];A("PUT",t.toLowerCase()+"("+e+")/"+o,c,n,{value:l},s)},this.deleteRequest=function(e,t,i){u(e,"DynamicsWebApi.delete","request"),b(t,"DynamicsWebApi.delete","successCallback"),b(i,"DynamicsWebApi.delete","errorCallback");var a=g(e,"delete"),n=function(){t(!0)},r=e.ifmatch,s=function(e){r&&412==e.status?t(!1):i(e)};A("DELETE",a.url,n,s,null,a.headers)},this.deleteRecord=function(e,t,i,a,n){p(e,"DynamicsWebApi.delete","id"),e=f(e,"DynamicsWebApi.delete","id"),p(t,"DynamicsWebApi.delete","collection"),b(i,"DynamicsWebApi.delete","successCallback"),b(a,"DynamicsWebApi.delete","errorCallback"),null!=n&&p(n,"DynamicsWebApi.delete","propertyName");var r=t.toLowerCase()+"("+e+")";null!=n&&(r+="/"+n),A("DELETE",r,function(e){i()},a)},this.retrieveRequest=function(e,t,i){u(e,"DynamicsWebApi.retrieve","request"),b(t,"DynamicsWebApi.retrieve","successCallback"),b(i,"DynamicsWebApi.retrieve","errorCallback");var a=g(e,"retrieve"),n=e.select,r=function(e){t(null!=n&&1==n.length&&n[0].endsWith("/$ref")&&null!=e.data["@odata.id"]?D(e.data):e.data)};A("GET",a.url,r,i,null,a.headers)},this.retrieve=function(e,t,i,a,n,r){p(e,"DynamicsWebApi.retrieve","id"),e=f(e,"DynamicsWebApi.retrieve","id"),p(t,"DynamicsWebApi.retrieve","collection"),b(i,"DynamicsWebApi.retrieve","successCallback"),b(a,"DynamicsWebApi.retrieve","errorCallback");var s=t.toLowerCase()+"("+e+")",c=[];null!=n&&n.length&&(d(n,"DynamicsWebApi.retrieve","select"),1==n.length&&n[0].endsWith("/$ref")&&n[0].endsWith("/$ref")?s+="/"+n[0]:(n[0].startsWith("/")&&(s+=n.shift()),n.length&&c.push("$select="+n.join(",")))),null!=r&&(p(r,"DynamicsWebApi.retrieve","expand"),c.push("$expand="+r)),c.length&&(s+="?"+c.join("&")),A("GET",s,function(e){i(null!=n&&1==n.length&&n[0].endsWith("/$ref")&&null!=e.data["@odata.id"]?D(e.data):e.data)},a)},this.upsertRequest=function(e,t,i){u(e,"DynamicsWebApi.upsert","request"),u(e.entity,"DynamicsWebApi.upsert","request.entity"),b(t,"DynamicsWebApi.upsert","successCallback"),b(i,"DynamicsWebApi.upsert","errorCallback");var a=g(e,"upsert"),n=e.ifnonematch,r=e.ifmatch,s=function(e){if(e.headers["OData-EntityId"]){var i=e.headers["OData-EntityId"];t(/[0-9A-F]{8}[-]?([0-9A-F]{4}[-]?){3}[0-9A-F]{12}/i.exec(i)[0])}else e.data?t(e.data):t()},c=function(e){n&&412==e.status?t():r&&404==e.status?t():i(e)};A("PATCH",a.url,s,c,e.entity,a.headers)},this.upsert=function(e,t,i,a,n,r,s){p(e,"DynamicsWebApi.upsert","id"),e=f(e,"DynamicsWebApi.upsert","id"),u(i,"DynamicsWebApi.upsert","object"),p(t,"DynamicsWebApi.upsert","collection"),b(a,"DynamicsWebApi.upsert","successCallback"),b(n,"DynamicsWebApi.upsert","errorCallback");var c={};null!=r&&(p(r,"DynamicsWebApi.upsert","prefer"),c.Prefer=r);var o="";null!=s&&(d(s,"DynamicsWebApi.upsert","select"),null!=s&&s.length>0&&(o="?$select="+s.join(",")));var l=function(e){if(e.headers["OData-EntityId"]){var t=e.headers["OData-EntityId"];a(/[0-9A-F]{8}[-]?([0-9A-F]{4}[-]?){3}[0-9A-F]{12}/i.exec(t)[0])}else e.data?a(e.data):a()};A("PATCH",t.toLowerCase()+"("+e+")"+o,l,n,i,c)},this.count=function(e,t,i,a){if(null!=a&&(null==a||a.length))return this.retrieveMultipleRequest({collection:e,filter:a,count:!0},function(e){t(e.oDataCount?e.oDataCount:0)},i);p(e,"DynamicsWebApi.count","collection"),b(t,"DynamicsWebApi.count","successCallback"),b(i,"DynamicsWebApi.count","errorCallback");var n=function(e){t(e.data?parseInt(e.data):0)};A("GET",e.toLowerCase()+"/$count",n,i)},this.retrieveMultiple=function(e,t,i,a,n,r){return this.retrieveMultipleRequest({collection:e,select:a,filter:n},t,i,r)},this.retrieveMultipleRequest=function(e,t,i,a){b(t,"DynamicsWebApi.retrieveMultiple","successCallback"),b(i,"DynamicsWebApi.retrieveMultiple","errorCallback"),a&&!e.collection&&(e.collection="any");var n=g(e,"retrieveMultiple");a&&(p(a,"DynamicsWebApi.retrieveMultiple","nextPageLink"),n.url=unescape(a).replace(c,""));var r=e.count,s=function(e){null!=e.data["@odata.nextLink"]&&(e.data.oDataNextLink=e.data["@odata.nextLink"]),r&&(e.data.oDataCount=null!=e.data["@odata.count"]?parseInt(e.data["@odata.count"]):0),null!=e.data["@odata.context"]&&(e.data.oDataContext=e.data["@odata.context"]),t(e.data)};A("GET",n.url,s,i,null,n.headers)};var v=function(e,t){try{e=unescape(unescape(e));var i=/pagingcookie="(<cookie page="(\d+)".+<\/cookie>)/.exec(e);if(null!=i){var a=parseInt(i[2]);return{cookie:i[1].replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\"/g,"'").replace(/\'/g,"&quot;"),page:a,nextPage:a+1}}return{cookie:"",page:t,nextPage:t+1}}catch(e){throw new Error(e)}};this.executeFetchXml=function(e,t,i,a,n,r,s,c){p(e,"DynamicsWebApi.executeFetchXml","collection"),p(t,"DynamicsWebApi.executeFetchXml","fetchXml"),b(i,"DynamicsWebApi.executeFetchXml","successCallback"),b(a,"DynamicsWebApi.executeFetchXml","errorCallback"),null==r&&(r=1),y(r,"DynamicsWebApi.executeFetchXml","pageNumber");var o="$1 page='"+r+"'";null!=s&&(p(s,"DynamicsWebApi.executeFetchXml","pagingCookie"),o+=" paging-cookie='"+s+"'"),t=t.replace(/^(<fetch[\w\d\s'"=]+)/,o);var l={};null!=n&&(p(n,"DynamicsWebApi.executeFetchXml","includeAnnotations"),l.Prefer='odata.include-annotations="'+n+'"'),null!=c&&(c=f(c,"DynamicsWebApi.executeFetchXml","impersonateUserId"),header.MSCRMCallerID=c);var u=escape(t),d=function(e){null!=e.data["@Microsoft.Dynamics.CRM.fetchxmlpagingcookie"]&&(e.data.PagingInfo=v(e.data["@Microsoft.Dynamics.CRM.fetchxmlpagingcookie"],r)),null!=e.data["@odata.context"]&&(e.data.oDataContext=e.data["@odata.context"]),i(e.data)};A("GET",e.toLowerCase()+"?fetchXml="+u,d,a,null,l)},this.associate=function(e,t,i,a,n,r,s,o){p(e,"DynamicsWebApi.associate","primarycollection"),p(a,"DynamicsWebApi.associate","relatedcollection"),p(i,"DynamicsWebApi.associate","relationshipName"),t=f(t,"DynamicsWebApi.associate","primaryId"),n=f(n,"DynamicsWebApi.associate","relatedId"),b(r,"DynamicsWebApi.associate","successCallback"),b(s,"DynamicsWebApi.associate","errorCallback");var l=function(){r()},u={};null!=o&&(o=f(o,"DynamicsWebApi.associate","impersonateUserId"),u.MSCRMCallerID=o),A("POST",e+"("+t+")/"+i+"/$ref",l,s,{"@odata.id":c+a+"("+n+")"},u)},this.disassociate=function(e,t,i,a,n,r,s){p(e,"DynamicsWebApi.disassociate","primarycollection"),p(i,"DynamicsWebApi.disassociate","relationshipName"),t=f(t,"DynamicsWebApi.disassociate","primaryId"),a=f(a,"DynamicsWebApi.disassociate","relatedId"),b(n,"DynamicsWebApi.disassociate","successCallback"),b(r,"DynamicsWebApi.disassociate","errorCallback");var c=function(){n()},o={};null!=s&&(s=f(s,"DynamicsWebApi.associate","impersonateUserId"),o.MSCRMCallerID=s),A("DELETE",e+"("+t+")/"+i+"("+a+")/$ref",c,r,null,o)},this.associateSingleValued=function(e,t,i,a,n,r,s,o){p(e,"DynamicsWebApi.associateSingleValued","collection"),t=f(t,"DynamicsWebApi.associateSingleValued","id"),n=f(n,"DynamicsWebApi.associateSingleValued","relatedId"),p(i,"DynamicsWebApi.associateSingleValued","singleValuedNavigationPropertyName"),p(a,"DynamicsWebApi.associateSingleValued","relatedcollection"),b(r,"DynamicsWebApi.associateSingleValued","successCallback"),b(s,"DynamicsWebApi.associateSingleValued","errorCallback");var l=function(){r()},u={};null!=o&&(o=f(o,"DynamicsWebApi.associate","impersonateUserId"),u.MSCRMCallerID=o),A("PUT",e+"("+t+")/"+i+"/$ref",l,s,{"@odata.id":c+a+"("+n+")"},u)},this.disassociateSingleValued=function(e,t,i,a,n,r){p(e,"DynamicsWebApi.disassociateSingleValued","collection"),t=f(t,"DynamicsWebApi.disassociateSingleValued","id"),p(i,"DynamicsWebApi.disassociateSingleValued","singleValuedNavigationPropertyName"),b(a,"DynamicsWebApi.disassociateSingleValued","successCallback"),b(n,"DynamicsWebApi.disassociateSingleValued","errorCallback");var s={};null!=r&&(r=f(r,"DynamicsWebApi.associate","impersonateUserId"),s.MSCRMCallerID=r),A("DELETE",e+"("+t+")/"+i+"/$ref",function(){a()},n,null,s)};var C=function(e){if(e){for(var t=Object.keys(e),i="",a="",n=1;n<=t.length;n++){var r=t[n-1],s=e[r];n>1&&(i+=",",a+="&"),i+=r+"=@p"+n,a+="@p"+n+"="+("string"==typeof s?"'"+s+"'":s)}return"("+i+")?"+a}return"()"};this.executeUnboundFunction=function(e,t,i,a,n){return x(e,a,null,null,t,i,n)},this.executeBoundFunction=function(e,t,i,a,n,r,s){return x(i,r,t,e,a,n,s)};var x=function(e,t,i,a,n,r,s){p(e,"DynamicsWebApi.executeFunction","functionName"),b(n,"DynamicsWebApi.executeFunction","successCallback"),b(r,"DynamicsWebApi.executeFunction","errorCallback");var c=e+C(t);null!=i&&(p(i,"DynamicsWebApi.executeFunction","collection"),a=f(a,"DynamicsWebApi.executeFunction","id"),c=i+"("+a+")/"+c);var o={};null!=s&&(o.MSCRMCallerID=f(s,"DynamicsWebApi.associate","impersonateUserId")),A("GET",c,function(e){e.data?n(e.data):n()},r,null,o)};this.executeUnboundAction=function(e,t,i,a,n){return k(e,t,null,null,i,a,n)},this.executeBoundAction=function(e,t,i,a,n,r,s){return k(i,a,t,e,n,r,s)};var k=function(e,t,i,a,n,r,s){p(e,"DynamicsWebApi.executeAction","actionName"),b(n,"DynamicsWebApi.executeAction","successCallback"),b(r,"DynamicsWebApi.executeAction","errorCallback");var c=e;null!=i&&(p(i,"DynamicsWebApi.executeAction","collection"),a=f(a,"DynamicsWebApi.executeAction","id"),c=i+"("+a+")/"+c);var o={};null!=s&&(s=f(s,"DynamicsWebApi.associate","impersonateUserId"),o.MSCRMCallerID=s),A("POST",c,function(e){e.data?n(e.data):n()},r,t,o)};this.initializeInstance=function(e){return e||(e={impersonate:i,webApiUrl:c,webApiVersion:r}),new a(e)}}var n=i(0);String.prototype.endsWith||(String.prototype.endsWith=function(e,t){var i=this.toString();("number"!=typeof t||!isFinite(t)||Math.floor(t)!==t||t>i.length)&&(t=i.length),t-=e.length;var a=i.lastIndexOf(e,t);return a!==-1&&a===t}),String.prototype.startsWith||(String.prototype.startsWith=function(e,t){return t=t||0,this.substr(t,e.length)===e}),e.exports=a}])});